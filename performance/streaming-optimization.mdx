---
title: "Streaming Optimizations"
description: "RisingWave provides a variety of optimizations to improve the performance of streaming queries."
sidebarTitle: Overview
---

This section covers best practices for optimizing streaming queries.
You can often achieve better performance by rewriting your SQL to follow certain recommended patterns.

## SQL Optimizations

### UNION vs UNION ALL

UNION removes duplicates, while UNION ALL does not.
If you know that your data does not contain duplicates, use UNION ALL to avoid the overhead of duplicate removal.
Alternatively, if the duplicate set is small, you can also filter out duplicates when querying the result set.

### OverWindow vs GroupTopN

OverWindow is a streaming operator that maintains the state of the window and computes the row number for each row in the partition.

Queries look something like:
```sql
select *, row_number() over (PARTITION BY v1 order by v2) r from t3
```

This can be optimized by using the `GroupTopN` operator instead.

Checkout [Converting StreamOverWindow to StreamGroupTopN](/processing/sql/top-n-by-group#converting-streamoverwindow-to-streamgrouptopn) for more details.

### JOIN Optimizations

The `JOIN` operator is used to join two streams of data together. It can be used to join two streams of data that are both being ingested in real-time.
Whenever there's some updates on one side of the join, it will look for matches on the other side of the join.

Consider a fact and dimension table join:
```sql
select fact.* FROM fact JOIN dimension ON fact.dim_key = dimension.key;
```
If fact table just needs to lookup the dimension table at the time of the join, this will be inefficient.
This is because any updates to the dimension table will lookup the fact side and recompute the join result for
all matching fact side rows, even if they are stale.

Instead, you can use a `PROCESS TIME JOIN`, which will only look up the dimension table at the time of the join.
This will be more efficient, as whenever there's dimension table update,
it will not recompute the join result for all matching fact side rows.
```sql
select fact.* FROM fact JOIN dimension FOR SYSTEM_TIME AS OF PROCTIME() ON fact.dim_key = dimension.key;
```