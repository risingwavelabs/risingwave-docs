---
title: "AI functions"
---

## Embedding functions

### `openai_embedding`
<Note>
Added in v2.5.0. Breaking change in the upcoming release.
</Note>

Get the text embedding vector for a given text. The `config` argument must be a constant JSONB value containing the embedding configuration.

```sql Syntax
openai_embedding ( config constant jsonb, input text ) â†’ real[]
```

The `config` parameter is a JSONB object that supports the following options:

| Option | Required | Description |
|--------|----------|-------------|
| `model` | Yes | The embedding model to use (e.g., `text-embedding-3-small`) |
| `api_key` | No | OpenAI API key |
| `org_id` | No | OpenAI organization ID |
| `proj_id` | No | OpenAI project ID |
| `api_base` | No | Custom API base URL. Default: `https://api.openai.com/v1` |

```sql Example
openai_embedding('{"model": "text-embedding-3-small", "api_key": "sk-proj-1234567890"}'::jsonb, 'Hello, world!') -> {0.0001, 0.0002, 0.0003, ...}
```

**Breaking change from v2.5.0**: In v2.5.0, the function used three parameters: `openai_embedding(api_key, model, input)`. The new version uses a JSONB config parameter for better extensibility.
